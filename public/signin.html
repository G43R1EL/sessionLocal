<!DOCTYPE html>
<html lang="es-AR">
<head>
    <meta charset="UTF-8">
    <title>User login</title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>
<body>
    <div class="modal position-static d-block bg-secondary py-5" tabindex="-1" role="dialog" id="modalLogin" style="height: 100vh;">
        <div class="modal-dialog" role="document">
            <div class="modal-content rounded-4 shadow">
                <div class="modal-header p-5 pb-4 border-bottom-0">
                    <h2 class="fw-bold mb-0">Ingreso de usuario</h2>
                </div>

                <div class="modal-body p-5 pt-0">
                    <form method="post" action="/signin">
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control rounded-3" id="username" name="username" placeholder="E-Mail">
                            <label for="username">E-Mail</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control rounded-3" id="password" name="password" placeholder="Contraseña">
                            <label for="password">Contraseña</label>
                        </div>
                        <div class="form-floating mb-3 d-flex gap-3">
                            <button class="w-50 mb-2 btn btn-lg rounded-3 btn-primary" type="submit">Ingresar</button>
                            <a href="/register" class="w-50 mb-2 btn btn-lg rounded-3 btn-secondary">Registrarme</a>
                        </div>
                    </form>
                    <div id="error_container" role="alert">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    <script>
        const errorContainer = document.getElementById("error_container")
        const queryString = window.location.search
        const params = new URLSearchParams(queryString)
        const err = params.get("error")
        switch (err) {
            case 'signin':
                errorContainer.classList.add("alert")
                errorContainer.classList.add("alert-danger")
                errorContainer.innerText = "Error al iniciar sesión\nVerifique el email y contraseña ingresados"
                break
            case 'exist':
                errorContainer.classList.add("alert")
                errorContainer.classList.add("alert-warning")
                errorContainer.innerText = "Error al registrarse, el usuario ya existe\nIngrese con su usuario y contraseña o registrese con otra cuenta"
                break
        }
    </script>
</body>
</html>